# 函数

## 函数介绍

- 定义: 有输入,有输出,用来执行一个指定任务的代码块,增加代码的可重用性

- 函数声明格式:

  func  函数名 ([参数列表]) [返回值列表] {

  ​	函数体

  }



## 自定义函数

- 无参无返回值
- 有参无返回值
- 有不定参数无返回值
- 无参数有返回值
- 有参有返回值

返回值是否提前定义, 有名直接指定名,无名直接返回值



```go
// 循环
func main() {
   sum := 0
   for i := 1; i <= 100; i++ {
      sum += i
   }
   fmt.Println(sum)
}

//递归

```



### 练习: 循环和递归求1-100的和

```go
func main() {
	sum := 0
	for i := 1; i <= 100; i++ {
		sum += i
	}
	fmt.Println(sum)
}


// 传入最大值
func Test1(num int) int {
   if num == 1 {
      return 1
   }
   return num + Test1(num-1)
}

// 传入最小值
func Test2(num int) int {
   if num == 100 {
      return 100
   }
   return num + Test2(num+1)

}
func main() {
   fmt.Println(Test1(100))
   fmt.Println(Test2(1))
}
```





## defer 关键字

- defer 用于延迟一个函数或者方法的执行
- defer语句经常被用于处理成对的操作, 如打开,关闭,连接,断开连接,加锁,释放锁 等
- 通过defer机制,不论函数逻辑多复杂,都能保证在任何执行路径下,资源被释放
- 释放资源的defer应该直接跟在请求资源的语句后,以免忘记释放资源.











## 多个defer执行顺序



## 

